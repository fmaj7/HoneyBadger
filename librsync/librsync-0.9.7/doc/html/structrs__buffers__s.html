<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>librsync: rs_buffers_s Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>rs_buffers_s Struct Reference</h1><!-- doxytag: class="rs_buffers_s" -->Stream through which the calling application feeds data to and from the library.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrs__buffers__s.html#6d5d12a1ced9a3a8891259e09c80ec20">next_in</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Next input byte.  <a href="#6d5d12a1ced9a3a8891259e09c80ec20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrs__buffers__s.html#7bd5f1ea3c26587bf1106c1594712735">avail_in</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of bytes available at next_in.  <a href="#7bd5f1ea3c26587bf1106c1594712735"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrs__buffers__s.html#a6783da2d894c77178155759cd12d16f">eof_in</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">True if there is no more data after this.  <a href="#a6783da2d894c77178155759cd12d16f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrs__buffers__s.html#f3a6532c3e300a07783d61680cbdc11f">next_out</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Next output byte should be put there.  <a href="#f3a6532c3e300a07783d61680cbdc11f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrs__buffers__s.html#e60f3db2f518d74aee13a02b7c9619a2">avail_out</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remaining free space at next_out.  <a href="#e60f3db2f518d74aee13a02b7c9619a2"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Stream through which the calling application feeds data to and from the library. 
<p>
On each call to rs_job_iter, the caller can make available<p>
<ul>
<li>avail_in bytes of input data at next_in</li><li>avail_out bytes of output space at next_out</li><li>some of both</li></ul>
<p>
Buffers must be allocated and passed in by the caller. This routine never allocates, reallocates or frees buffers.<p>
Pay attention to the meaning of the returned pointer and length values. They do <b>not</b> indicate the location and amount of returned data. Rather, if <code>*out_ptr</code> was originally set to <code>out_buf</code>, then the output data begins at <code>out_buf</code>, and has length <code>*out_ptr</code> - <code>out_buf</code>.<p>
Note also that if <code>*avail_in</code> is nonzero on return, then not all of the input data has been consumed. The caller should either provide more output buffer space and call rs_work() again passing the same <code>next_in</code> and <code>avail_in</code>, or put the remaining input data into some persistent buffer and call rs_work() with it again when there is more output space.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>next_in</em>&nbsp;</td><td>References a pointer which on entry should point to the start of the data to be encoded. Updated to point to the byte after the last one consumed.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>avail_in</em>&nbsp;</td><td>References the length of available input. Updated to be the number of unused data bytes, which will be zero if all the input was consumed. May be zero if there is no new input, but the caller just wants to drain output.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>next_out</em>&nbsp;</td><td>References a pointer which on entry points to the start of the output buffer. Updated to point to the byte after the last one filled.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>avail_out</em>&nbsp;</td><td>References the size of available output buffer. Updated to the size of unused output buffer.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The <a class="el" href="librsync_8h.html#7feb858ceba3b8f3cf048d49be108253" title="Return codes from nonblocking rsync operations.">rs_result</a> that caused iteration to stop.</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="librsync_8h.html#bf9f543dbfe5c1e60c8ed1c93d087767" title="Stream through which the calling application feeds data to and from the library.">rs_buffers_t</a> <p>
api_buffers </dd></dl>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="6d5d12a1ced9a3a8891259e09c80ec20"></a><!-- doxytag: member="rs_buffers_s::next_in" ref="6d5d12a1ced9a3a8891259e09c80ec20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="structrs__buffers__s.html#6d5d12a1ced9a3a8891259e09c80ec20">rs_buffers_s::next_in</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Next input byte. 
<p>

</div>
</div><p>
<a class="anchor" name="7bd5f1ea3c26587bf1106c1594712735"></a><!-- doxytag: member="rs_buffers_s::avail_in" ref="7bd5f1ea3c26587bf1106c1594712735" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="structrs__buffers__s.html#7bd5f1ea3c26587bf1106c1594712735">rs_buffers_s::avail_in</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Number of bytes available at next_in. 
<p>

</div>
</div><p>
<a class="anchor" name="a6783da2d894c77178155759cd12d16f"></a><!-- doxytag: member="rs_buffers_s::eof_in" ref="a6783da2d894c77178155759cd12d16f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structrs__buffers__s.html#a6783da2d894c77178155759cd12d16f">rs_buffers_s::eof_in</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
True if there is no more data after this. 
<p>

</div>
</div><p>
<a class="anchor" name="f3a6532c3e300a07783d61680cbdc11f"></a><!-- doxytag: member="rs_buffers_s::next_out" ref="f3a6532c3e300a07783d61680cbdc11f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="structrs__buffers__s.html#f3a6532c3e300a07783d61680cbdc11f">rs_buffers_s::next_out</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Next output byte should be put there. 
<p>

</div>
</div><p>
<a class="anchor" name="e60f3db2f518d74aee13a02b7c9619a2"></a><!-- doxytag: member="rs_buffers_s::avail_out" ref="e60f3db2f518d74aee13a02b7c9619a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="structrs__buffers__s.html#e60f3db2f518d74aee13a02b7c9619a2">rs_buffers_s::avail_out</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remaining free space at next_out. 
<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="librsync_8h.html">librsync.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Nov 29 10:30:28 2011 for librsync by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
